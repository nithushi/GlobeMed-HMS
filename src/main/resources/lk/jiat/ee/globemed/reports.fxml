<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="lk.jiat.ee.globemed.Reports"
            style="-fx-font-family: 'Segoe UI'; -fx-background-color: #f4f6f8;">

    <!-- Top Header -->
<!--    <top>-->
<!--        <HBox alignment="CENTER_LEFT" spacing="10.0"-->
<!--              style="-->
<!--                 -fx-padding: 15 20 25 20;  /* top right bottom left */-->
<!--                 -fx-background-radius: 10;">-->
<!--            <children>-->
<!--                <Label text="GlobeMed Report Generation System"-->
<!--                       style="-fx-text-fill: #050505; -fx-font-size: 22px; -fx-font-weight: bold;"/>-->
<!--            </children>-->
<!--        </HBox>-->
<!--    </top>-->

    <top>
        <VBox spacing="10" style="-fx-padding: 15;">
            <HBox spacing="20" alignment="CENTER_LEFT">
                <StackPane>
                    <Region prefWidth="60" prefHeight="60"
                            style="-fx-background-color: #e0f2fe; -fx-background-radius: 30;"/>
                    <Label text="ðŸ“ˆ" style="-fx-font-size: 28px;"/>
                </StackPane>
                <VBox spacing="5">
                    <Label text="Manage Reports"
                           style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #1f2937;"/>
                    <Label text="Manage reports with ease"
                           style="-fx-font-size: 14px; -fx-text-fill: #6b7280;"/>
                </VBox>
            </HBox>

            <!-- Elegant Separator -->
            <Region prefHeight="1" style="-fx-background-color: #e5e7eb;"/>
        </VBox>
    </top>


    <!-- Center Content -->
    <center>
        <VBox spacing="20.0" style="-fx-background-color: #ffffff; -fx-background-radius: 15; -fx-padding: 20 20 20 20;">
            <children>
                <!-- Row 1: Report Type & Date Range -->
                <HBox spacing="25.0">
                    <children>
                        <VBox spacing="12.0">
                            <children>
                                <Label text="Report Type:" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                                <ComboBox fx:id="reportTypeComboBox" prefWidth="240.0" promptText="Select Report Type"
                                          style="-fx-background-color: white; -fx-border-color: #94a3b8; -fx-border-radius: 6; -fx-padding: 8 12;"/>
                            </children>
                        </VBox>
                        <VBox spacing="12.0">
                            <children>
                                <Label text="Date Range:" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                                <HBox spacing="12.0">
                                    <children>
                                        <DatePicker fx:id="startDatePicker" promptText="Start Date"
                                                    style="-fx-background-color: white; -fx-border-color: #94a3b8; -fx-border-radius: 6; -fx-padding: 8 12;"/>
                                        <Label text="to" style="-fx-font-weight: bold;"/>
                                        <DatePicker fx:id="endDatePicker" promptText="End Date"
                                                    style="-fx-background-color: white; -fx-border-color: #94a3b8; -fx-border-radius: 6; -fx-padding: 8 12;"/>
                                    </children>
                                </HBox>
                            </children>
                        </VBox>
                    </children>
                </HBox>

                <!-- Row 2: Filter & Output Format -->
                <HBox spacing="25.0">
                    <children>
                        <VBox spacing="12.0">
                            <children>
                                <Label text="Patient/Department Filter:" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                                <TextField fx:id="filterTextField" prefWidth="240.0" promptText="Enter patient ID or department"
                                           style="-fx-background-color: white; -fx-border-color: #94a3b8; -fx-border-radius: 6; -fx-padding: 8 12;"/>
                            </children>
                        </VBox>
                        <VBox spacing="12.0">
                            <children>
                                <Label text="Output Format:" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                                <ComboBox fx:id="formatComboBox" prefWidth="160.0" promptText="Select Format"
                                          style="-fx-background-color: white; -fx-border-color: #94a3b8; -fx-border-radius: 6; -fx-padding: 8 12;">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <String fx:value="PDF"/>
                                            <String fx:value="Excel"/>
                                            <String fx:value="CSV"/>
                                            <String fx:value="Word"/>
                                        </FXCollections>
                                    </items>
                                </ComboBox>
                            </children>
                        </VBox>
                    </children>
                </HBox>

                <!-- Buttons -->
                <HBox spacing="20.0" alignment="CENTER_LEFT">
                    <children>
                        <Button fx:id="generateButton" text="Generate Report" prefWidth="180"
                                style="-fx-background-color: #10b981; -fx-text-fill: white; -fx-pref-width: 180px; -fx-padding: 12 0;"/>
                        <Button fx:id="previewButton" text="Preview" prefWidth="140"
                                style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-pref-width: 180px; -fx-padding: 12 0;"/>
                        <Button fx:id="clearButton" text="Clear" prefWidth="120"
                                style="-fx-background-color: #dc2626; -fx-text-fill: white; -fx-pref-width: 180px; -fx-padding: 12 0;"/>
                    </children>
                </HBox>

                <!-- Report Status -->
                <VBox spacing="12.0">
                    <children>
                        <Label text="Report Generation Status:" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                        <TextArea fx:id="statusTextArea" editable="false" prefHeight="120.0" wrapText="true"
                                  style="-fx-background-color: #f8fafc; -fx-border-color: #94a3b8; -fx-border-radius: 8; -fx-padding: 12;"/>
                        <ProgressBar fx:id="progressBar" prefWidth="420.0" progress="0.0" visible="false"
                                     style="-fx-accent: #10b981; -fx-background-radius: 6; -fx-pref-height: 8;"/>
                    </children>
                </VBox>

                <!-- Recent Reports Table -->
                <VBox spacing="12.0">
                    <children>
                        <Label text="Recent Reports:" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                        <TableView fx:id="recentReportsTable" prefHeight="160.0"
                                   style="-fx-background-color: white; -fx-border-color: #94a3b8; -fx-border-radius: 8;">
                            <columns>
                                <TableColumn fx:id="reportNameColumn" prefWidth="200.0" text="Report Name"/>
                                <TableColumn fx:id="reportTypeColumn" prefWidth="150.0" text="Type"/>
                                <TableColumn fx:id="reportPatientColumn" prefWidth="150.0" text="Patient"/>
                                <TableColumn fx:id="generatedDateColumn" prefWidth="120.0" text="Generated"/>
                                <TableColumn fx:id="statusColumn" prefWidth="100.0" text="Status"/>
                                <TableColumn fx:id="actionsColumn" prefWidth="100.0" text="Actions"/>
                            </columns>
                        </TableView>
                    </children>
                </VBox>

            </children>
        </VBox>
    </center>

    <!-- Bottom Footer -->

</BorderPane>